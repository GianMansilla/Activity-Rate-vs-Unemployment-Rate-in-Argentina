---
title: "Case Study: Activity Rate vs Unemployment Rate in Argentina"
author: "Gian Mansilla"
date: "2/8/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction

Hello everyone and welcome to my first job using R, in this case as a Case Study for the Data AnalystÂ´s Certificate by Google. 

Today we are going to analyze two databases (Activity Rate and Unemployment Rate) from Argentina with data between 2004 and 2021. Both tables were extracted from Argentine government databases: INDEC and datos.gob.ar.

First I will analyze both tables separately to see their behavior over time, and after that I am going to join both tables, I will draw a scatter plot and I will calculate the Pearson correlation in order to answer the hypothesis of the work: Activity Rate and Unemployment Rate are negatively related.

## Importing libraries and datasets

```{r}
library(tidyverse)
library(lubridate)

activity_rate <- read_csv("emae-valores-anuales-indice-base-2004-mensual.csv")
unemployment_rate <- read_csv("tasa-desempleo-valores-anuales.csv")

```
## Activity Rate: Some cleaning work, formatting dates, select, rename, and plot
```{r}
head(activity_rate)

colnames(activity_rate)

activity_rate$indice_tiempo <- as.Date(activity_rate$indice_tiempo)

activity_rate <- rename(activity_rate, Year = indice_tiempo, Activity_Rate = emae_original_via ) %>%
  select(Year, Activity_Rate) %>%
  drop_na()

head(activity_rate)

ggplot(data = activity_rate) + 
  geom_line(mapping = aes(x = Year, y = Activity_Rate), color = 'blue') + 
  scale_x_date(date_labels="%Y",date_breaks  ="2 years") +
  scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
  labs(title = "Monthly Economic Activity Estimator in Argentina (2005-2021)", subtitle = "Evolution of the national economic activity of all the productive sectors", caption = "Source: INDEC") 
  

```

As we can see, the evolution of the national economic activity in Argentina with a stable pattern,  did not growth in the last 16 years, with most of the values of the Activity Rate between -10% and +10% and a remarkable drop of 32% in 2020 due the pandemic.

## Unemployment Rate: Similar work to the one done previously

```{r}
head(unemployment_rate)

colnames(unemployment_rate)

unemployment_rate <- unemployment_rate %>%
  rename(Year = indice_tiempo, percentage = eph_continua_tasa_desempleo_total) %>%
  select(Year, percentage) %>%
  drop_na()

unemployment_rate$Year <- as.Date(unemployment_rate$Year)

head(unemployment_rate) 

ggplot(data = unemployment_rate) +
  geom_line(mapping = aes(x = Year, y = percentage, ), color = "red")+
  scale_x_date(date_labels="%Y",date_breaks  ="2 years") + 
  scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
  labs(title = "Unemployment Rate in Argentina (2004-2020)", caption = "Source: datos.gob.ar") 
  

```

In this graph we can observe a distinguished decrease in the unemployment rate from 2004 to 2015, and then grows again at an accelerated rate reaching values from the year 2005.


## Activity Rate vs Unemployment Rate: Inner join and then the plot

```{r}
activity_vs_unemployment <- merge(x = activity_rate, y = unemployment_rate, by ="Year", all = TRUE)
  
activity_vs_unemployment <- activity_vs_unemployment %>%
  drop_na() %>%
  rename(Unemployment_Rate = percentage) %>%
  select(Year, Activity_Rate, Unemployment_Rate)

head(activity_vs_unemployment)

ggplot(data = activity_vs_unemployment) +
  geom_point(mapping = aes(x = Activity_Rate, y = Unemployment_Rate)) + 
  geom_smooth(mapping = aes(x = Activity_Rate, y = Unemployment_Rate)) +
  scale_x_continuous(labels = scales::percent_format(accuracy = 1)) +
  scale_y_continuous(labels = scales::percent_format(accuracy = 1)) + 
  labs(title = "Activity Rate vs Unemployment Rate (2005-2020")
```

With the first view on the chart, we can assume that there is no relation between this two variables, but just in case, we are going to calculate the Pearson correlation to be sure.
The Pearson correlation says that the result can be between [-1, 1]. When the result is near to the extreme points, the correlation is strong, and when the result is near to 0, there is no correlation between the variables.


```{r}
x <- activity_vs_unemployment$Activity_Rate
y <- activity_vs_unemployment$Unemployment_Rate

cor(x,y, method = "pearson")
```

With the Pearson correlation of -0.02822284, we can assure that there is no correlation in our data between Activity Rate and Unemployment Rate in Argentina between 2005 and 2020, so we cannot accept the hypothesis raised at the beginning of this work, which was: Activity Rate and Unemployment Rate are negatively related.


### Thanks to all who read the work. All the comments that allow me to improve this and other future works will be very well received. 



